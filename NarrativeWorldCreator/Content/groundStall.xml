<?xml version="1.0" encoding="utf-8"?>
<MainLayout name="A market stall on the floor">

  <Material id="3" file="..\\content\\textures\\thedoors.dds" remap="0.75;0.25;0.25;0.25" />
  <Material id="4" file="..\\content\\textures\\thedoors.dds" remap="0;0.5;0.25;0.25" />
  <Material id="5" file="..\\content\\textures\\thedoors.dds" remap="0.25;0.5;0.25;0.25" />
  <Material id="6" file="..\\content\\textures\\thedoors.dds" remap="0.5;0.5;0.25;0.25" />
  <Material id="7" file="..\\content\\textures\\thedoors.dds" remap="0.75;0.5;0.25;0.25" />

  <Variable name="clothTex" value="rand('dice',3,7)" />

  <Variable name="width" value="rand('const', 1.5, 2.75)" />
  <Variable name="length" value="rand('const', 1.5, 3)" />

  <Layout rot="0;0;0">
    <Layout rot="0;rand('const',-0.1,0.1);0">
      <Instruction value="BO:Mesh:'list';((-0.5*length;0.05;-0.5*width;0;0);(-0.5*length;0.05; 0.5*width;0;1);( 0.5*length;0.05; 0.5*width;1;1);( 0.5*length;0.05;-0.5*width;1;0));
                                            (0;1;2;2;3;0);clothTex" />
    </Layout>
    
    <Layout pos="0;0.05;0">
      <Variable name="size" value="rand('const',0.5,1.5)" />
      <Layout type="fileinstance" instancename="..\\content\\models\\marketstallGoods.xml">
        <Input name="width" value="width" />
        <Input name="length" value="length" />
      </Layout>
    </Layout>
    
    <Layout type="conditional" condition="rand('dice',0,1)==0">
      <Layout type="fileinstance" instancename="..\\content\\models\\marketstalltop.xml">
        <Input name="width" value="width" />
        <Input name="length" value="length" />
        <Input name="height" value="rand('const',1.8,2.2)" />
      </Layout>
    </Layout>
  </Layout>

</MainLayout>