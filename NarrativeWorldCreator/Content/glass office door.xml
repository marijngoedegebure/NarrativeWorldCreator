<MainLayout name="glass office door">
  <RequiredInput name="openingLeft" comment="Boolean value stating whether or not the door should open to the left." />

  <Material id="1" diffuse="1.0;0.6;0.6;1.0" specular="0.9;0.9;0.9;1.0" name="door handle metal" />
  <Material id="2" transparency="0.4" name="transparent door material" />

  <Variable name="color" value="(1;1;1;1)" />

  <Layout rot="0;if(openingLeft, pi, 0);0">

    <Instruction value="BO:Box:0;1;0;0.01;1.98;0.9;2;color" />
    <Instruction value="BO:Box:0;0.03;-0.4;0.015;0.06;0.1;1;color" />
    <Instruction value="BO:Box:0;1.97;-0.4;0.015;0.06;0.1;1;color" />
    
    <Layout pos="0.005;1;0.4" rot="0;0;0.5*pi">
      <Instruction value="BO:Cylinder:0.17;0;0;0.01;0.015;0.015;16;1" />
      <Instruction value="BO:Cylinder:0.17;0.01;0;0.02;0.005;0.005;12;1" />
      <Instruction value="BO:Cylinder:-0.17;0;0;0.01;0.015;0.015;16;1" />
      <Instruction value="BO:Cylinder:-0.17;0.01;0;0.02;0.005;0.005;12;1" />
    </Layout>

    <Instruction value="BO:Cylinder:0.035;0.8;0.4;0.4;0.0075;0.0075;16;1" />

    <Layout pos="-0.005;1;0.4" rot="0;0;-0.5*pi">
      <Instruction value="BO:Cylinder:0.17;0;0;0.01;0.015;0.015;16;1" />
      <Instruction value="BO:Cylinder:0.17;0.01;0;0.02;0.005;0.005;12;1" />
      <Instruction value="BO:Cylinder:-0.17;0;0;0.01;0.015;0.015;16;1" />
      <Instruction value="BO:Cylinder:-0.17;0.01;0;0.02;0.005;0.005;12;1" />
    </Layout>

    <Instruction value="BO:Cylinder:-0.035;0.8;0.4;0.4;0.0075;0.0075;16;1" />
  </Layout>
  
  <!--<Instruction value="BO:Box:0;h*0.5;0;0.1;h;w;1;color" />--><!--
  <Instruction value="BO:Box:0;h*0.5-0.1;-w*0.5+0.05;0.2;h-0.2;0.1;3;color" />
  <Instruction value="BO:Box:0;h*0.5-0.1; w*0.5-0.05;0.2;h-0.2;0.1;3;color" />
  <Instruction value="BO:Box:0;0.005;0;0.3;0.01;w;4;color" />

  <Instruction value="BO:Box:0;h-0.01;0;0.25;0.02;w;4;color" />
  <Instruction value="BO:Box:0;h-0.19;0;0.25;0.02;w;4;color" />
  <Instruction value="BO:Box:0;h-0.1;0;0.1;0.16;w;4;color" />

  <Layout type="array" param1="4" pos="0;h-0.1;-0.3*w" variables="0;0;0.2*w;0;0;0">
    <Layout rot="0;0;0.5*pi">
      <Variable name="screwLength" value="rand(const,0.14,0.17)" />
      <Instruction value="BO:Cylinder:0;-0.055;0;0.11;0.025;0.025;24;7" />
      <Layout rot="0;rand(const,0,pi);0">
        <Instruction value="BO:Cylinder:0;-0.065;0;0.13;0.018;0.018;6;7" />
      </Layout>
      <Instruction value="BO:Cylinder:0;-screwLength*0.5;0;screwLength;0.01;0.01;16;7" />
    </Layout>
  </Layout>
  
  <Instruction value="BO:Box:0.02;h*0.5-0.1;-w*0.5+0.125;0.01;h-0.2;0.05;5;color" />
  <Instruction value="BO:Box:-0.02;h*0.5-0.1;-w*0.5+0.125;0.01;h-0.2;0.05;5;color" />
  <Instruction value="BO:Box:0.02;h*0.5-0.1; w*0.5-0.125;0.01;h-0.2;0.05;5;color" />
  <Instruction value="BO:Box:-0.02;h*0.5-0.1; w*0.5-0.125;0.01;h-0.2;0.05;5;color" />

  <Layout name="gate" pos="0;doorStartHeight;0">
    <Instruction value="BO:Box:0;0.025;0;0.03;0.05;w-0.2;6;color" />
    <Variable name="tw" value="w-0.2" />
    <Variable name="tw2" value="0.5*(w-0.2)" />
    <Layout type="array" param1="nrOfParts" pos="0;0.05;0" variables="0;0.05;0;0;0;0">
      <Layout type="array" param1="2" pos="0;0;0" variables="0;0;0;0;pi;0">
        <Variable name="texstartU" value="rand(const,0,1)" />
        <Variable name="texstartV" value="rand(const,0,1)" />
        <Instruction value="BO:Mesh:'list';(  (0.005;0.000;-tw2;texstartU + 0;texstartV + 0);
                                              (0.005;0.000; tw2;texstartU + tw;texstartV + 0);
                                              (0.015;0.005;-tw2;texstartU + 0;texstartV + 0.01);
                                              (0.015;0.005; tw2;texstartU + tw;texstartV + 0.01);
                                              (0.015;0.045;-tw2;texstartU + 0;texstartV + 0.09);
                                              (0.015;0.045; tw2;texstartU + tw;texstartV + 0.09);
                                              (0.005;0.050;-tw2;texstartU + 0;texstartV + 0.1);
                                              (0.005;0.050; tw2;texstartU + tw;texstartV + 0.1));(0;2;1;1;2;3;2;4;3;3;4;5;4;6;5;5;6;7);6" />
      </Layout>
    </Layout>
  </Layout>

  --><!--<Instruction value="BO:Box:-width / 2 + 0.05;height / 2;-depth / 2 + 0.05;0.05;height;0.05;tex;color" />
  <Instruction value="BO:Box:width / 2 - 0.05;height / 2;-depth / 2 + 0.05;0.05;height;0.05;tex;color" />
  <Instruction value="BO:Box:width / 2 - 0.05;height / 2;depth / 2 - 0.05;0.05;height;0.05;tex;color" />
  <Instruction value="BO:Box:-width / 2 + 0.05;height / 2;depth / 2 - 0.05;0.05;height;0.05;tex;color" />
  <Instruction value="BO:Box:0;height;0;width;0.025;depth;tex;color" />

  <Semantics class="Table">
  </Semantics>-->

</MainLayout>