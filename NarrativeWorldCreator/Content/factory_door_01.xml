<MainLayout name="tv table">
  <Variable name="w" value="optional(width,rand(const,3,4))" />
  <Variable name="h" value="optional(height,rand(const,2.5,3))" />
  <Variable name="doorStartHeight" value="optional(doorHeight,0)" />


  <Material id="1" file="..\\content\\textures\\wood01.png" />
  <Material id="2" file="..\\content\\textures\\wood02.png" />
  <Material id="3" diffuse="0.2;0.2;0.3;1.0" />
  <Material id="4" file="..\\content\\textures\\metal03.jpg" />
  <Material id="7" file="..\\content\\textures\\metal02.png" />
  <Material id="5" name="fb1" file="..\\content\\textures\\fiberglass01.jpg" diffuse="0.5;0.5;0.5" />
  <Material id="6" name="fb2" file="..\\content\\textures\\fiberglass01.jpg" />

  <Variable name="color" value="(1;1;1;1)" />
  <Variable name="nrOfParts" value="int(((h-0.2-0.05) - doorStartHeight)/0.05)+1" />

  <!--<Instruction value="BO:Box:0;h*0.5;0;0.1;h;w;1;color" />-->
  <Instruction value="BO:Box:0;h*0.5-0.1;-w*0.5+0.05;0.2;h-0.2;0.1;3;color" />
  <Instruction value="BO:Box:0;h*0.5-0.1; w*0.5-0.05;0.2;h-0.2;0.1;3;color" />
  <Instruction value="BO:Box:0;0.005;0;0.3;0.01;w;4;color" />

  <Instruction value="BO:Box:0;h-0.01;0;0.25;0.02;w;4;color" />
  <Instruction value="BO:Box:0;h-0.19;0;0.25;0.02;w;4;color" />
  <Instruction value="BO:Box:0;h-0.1;0;0.1;0.16;w;4;color" />

  <Layout type="array" param1="4" pos="0;h-0.1;-0.3*w" variables="0;0;0.2*w;0;0;0">
    <Layout rot="0;0;0.5*pi">
      <Variable name="screwLength" value="rand(const,0.14,0.17)" />
      <Instruction value="BO:Cylinder:0;-0.055;0;0.11;0.025;0.025;24;7" />
      <Layout rot="0;rand(const,0,pi);0">
        <Instruction value="BO:Cylinder:0;-0.065;0;0.13;0.018;0.018;6;7" />
      </Layout>
      <Instruction value="BO:Cylinder:0;-screwLength*0.5;0;screwLength;0.01;0.01;16;7" />
    </Layout>
  </Layout>
  
  <Instruction value="BO:Box:0.02;h*0.5-0.1;-w*0.5+0.125;0.01;h-0.2;0.05;5;color" />
  <Instruction value="BO:Box:-0.02;h*0.5-0.1;-w*0.5+0.125;0.01;h-0.2;0.05;5;color" />
  <Instruction value="BO:Box:0.02;h*0.5-0.1; w*0.5-0.125;0.01;h-0.2;0.05;5;color" />
  <Instruction value="BO:Box:-0.02;h*0.5-0.1; w*0.5-0.125;0.01;h-0.2;0.05;5;color" />

  <Layout name="gate" pos="0;doorStartHeight;0">
    <Instruction value="BO:Box:0;0.025;0;0.03;0.05;w-0.2;6;color" />
    <Variable name="tw" value="w-0.2" />
    <Variable name="tw2" value="0.5*(w-0.2)" />
    <Layout type="array" param1="nrOfParts" pos="0;0.05;0" variables="0;0.05;0;0;0;0">
      <Layout type="array" param1="2" pos="0;0;0" variables="0;0;0;0;pi;0">
        <Variable name="texstartU" value="rand(const,0,1)" />
        <Variable name="texstartV" value="rand(const,0,1)" />
        <Instruction value="BO:Mesh:'list';(  (0.005;0.000;-tw2;texstartU + 0;texstartV + 0);
                                              (0.005;0.000; tw2;texstartU + tw;texstartV + 0);
                                              (0.015;0.005;-tw2;texstartU + 0;texstartV + 0.01);
                                              (0.015;0.005; tw2;texstartU + tw;texstartV + 0.01);
                                              (0.015;0.045;-tw2;texstartU + 0;texstartV + 0.09);
                                              (0.015;0.045; tw2;texstartU + tw;texstartV + 0.09);
                                              (0.005;0.050;-tw2;texstartU + 0;texstartV + 0.1);
                                              (0.005;0.050; tw2;texstartU + tw;texstartV + 0.1));(0;2;1;1;2;3;2;4;3;3;4;5;4;6;5;5;6;7);6" />
      </Layout>
    </Layout>
  </Layout>

  <!--<Instruction value="BO:Box:-width / 2 + 0.05;height / 2;-depth / 2 + 0.05;0.05;height;0.05;tex;color" />
  <Instruction value="BO:Box:width / 2 - 0.05;height / 2;-depth / 2 + 0.05;0.05;height;0.05;tex;color" />
  <Instruction value="BO:Box:width / 2 - 0.05;height / 2;depth / 2 - 0.05;0.05;height;0.05;tex;color" />
  <Instruction value="BO:Box:-width / 2 + 0.05;height / 2;depth / 2 - 0.05;0.05;height;0.05;tex;color" />
  <Instruction value="BO:Box:0;height;0;width;0.025;depth;tex;color" />

  <Semantics class="Table">
  </Semantics>-->

</MainLayout>